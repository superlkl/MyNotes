# 汇编程序

- **两数之和**

```assembly
.386 ;伪指令,表示这是一个32位程序,能访问32位寄存器和地址
.model flat,stdcall ;选择了程序的内存模式(flat),确定了子程序的调用规范(stdcall)
.stack 4096 ;运行时堆栈保留了4096字节的存储空间,每个程序都必须有
ExitProcess proto,dwExitCode:dword ;声明函数原型 dwExitCode可看做给Windows操作系统的返回值,返回值为0则程序执行成功,其他整数表示错误代码

.data ;------数据区-------
sum dword 0 ;定义名为sum的变量 双字类型 初始值为0

.code ;------代码区,.code伪指令标记了一个代码区的起点------
main PROC ;main(程序)作为程序的入口
mov eax,5 ;将数字5送入eax寄存器
add eax,6 ;eax寄存器加6 等同于eax = eax + 6
mov sum,eax ;将加法运算的结果保存在变量sum中

invoke ExitProcess,0 ;------程序结束,返回0则表示执行成功----
main endp ;endp伪指令标志一个过程的结束 对应main
end main ;end伪指令标志一个程序的结束 引用main
```

- **程序模板**

```assembly
.386
.model flat,stdcall
.stack 4096
ExitProcess proto,dwExitCode:dword

.data 
     ;在这里声明变量

.code
main PROC
     ;在这里编写自己的代码
     
invoke ExitProcess,0
main endp
end main
```

- **三数相加**

```assembly
.386
.model flat,stdcall
.stack 4096
ExitProcess proto,dwExitCode:dword

.data ;用非零数值对三个变量进行了初始化
firstVal dword 20002000h
secondVal dword 11111111h
thirdVal dword 22222222h
sum dword 0

.code
main PROC ;x86指令集不允许将一个变量直接与另一个变量相加,但是允许一个变量与一个寄存器相加
mov eax,firstVal ;使用eax作为累加器
add eax,secondVal
add eax,thirdVal
mov sum,eax ;sum = 53335333h
     
invoke ExitProcess,0
main endp
end main
```

