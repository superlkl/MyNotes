# 进制

们先来看看平时是如何表示一个整数的，最常见的肯定是用阿拉伯数字表示，比如“十二”，我们可以用12来表示，其实这种表示方式是基于一种叫做“十进制”的计数方式。“进制”是一种计数方式，编程中常见的进制有4种：十进制、二进制、八进制、十六进制。也就是说，同一个整数，我们至少有4种表示方式。

## 一、十进制

### 1.概念

十进制是我们最熟悉、最常用的一种计数方式，它有两个特点：由0、1、2….9十个基本数字组成；运算规则是“逢十进一”。

 

### 2.运算

所谓“逢十进一”，似乎在小学数学中都已经学过了，也就是当数值满十时，就要向前进一位

![img](https://images0.cnblogs.com/blog/497279/201305/08173812-4c0720b20b664a1393069b4a717bd380.png)

个位数为9+1，满十了，十位数就进一。

 

## 二、二进制

### 1.概念

二进制是计算机内部使用的一种计数方式，它有两个特点：由0、1两个基本数字组成；运算规则是“逢二进一”。

 

### 2.细节

-  **有人可能会问：为什么二进制里面没有2~9这些数字呢？都说了，逢二进一，因此当数字满二的时候就会进位。**

-  **如果我写个1010，你能看出它是二进制还是十进制么？为了跟其他进制区分开来，书写二进制数的时候，需要以0b或者0B开头。比如0b1010是个二进制数，而1010则还是我们熟悉的十进制数，就是“一千零一十”**

****

### 3.运算

做个简单的运算吧，比如1+1

![img](https://images0.cnblogs.com/blog/497279/201305/08175616-81116e0cbf9740108ce76535b788e8ed.png)

个位数是1+1，值满二了，于是十位数要进一。因此，在二进制中：1 + 1 = **0b**10，这里的**0b**10表示的是十进制中的“二”，并不是“十”。

 

以此类推，11 + 1 = **0b**100

 ![img](https://images0.cnblogs.com/blog/497279/201305/08180147-94ccb7c3c8e24b6eb9a1c357e3f7f54e.png)

 

### 4.二进制转为十进制

1. 用二进制表示数值，虽然简单、方便，但是不容易阅读，比如随便给出个二进制数**0b**110111101010，你能立刻看出它表示的是什么数值吗？一般需要将二进制数转为十进制数后才能知道代表的什么数值。

**进制里面有个“基数”的概念，基数是用来计算数值的，比如十进制的基数是10，因此十进制是这样算数的：**
$$
1230 = 0 * 10^0 + 3 * 10^1 + 2 * 10^2 + 1 * 10^3 = 0 * 1 + 3 * 10 + 2 * 100 + 1 * 1000
$$


**二进制的基数是2，以此类推：**
$$
0b1011 = 1 * 2^0 + 1 * 2^1 + 0 * 2^2 + 1 * 2^3 = 1 * 1 + 1 * 2 + 0 * 4 + 1 * 8 = 1 + 2 + 0 + 8 = 11
$$


**因此二进制数0b1011表示的数值是十进制中的11**

 

2. 一位二进制数能表示的最大值是1，而n位二进制数所能表示的最大值是**0b**111...1111，也就是说n位二进制数都是1，那么它的十进制数值为：

$$
1 * 2^0 + 1 * 2^1 + 1 * 2^2 + 1 * 2^3 + .... + (1 * 2^n-2) = 2^n - 1
$$



因此，n位二进制数所能表示的最大值是2^n - 1。也就是说，4位二进制数能表示的最大值是0b1111，十进制数值为：2^4 - 1 = 15；5位二进制数能表示的最大值是2^5 - 1 = 31。

 

## 三、八进制

### 1.概念

八进制有两个特点：由0~7八个基本数字组成；运算规则是“逢八进一”。

 

### 2.细节

**由于十进制和八进制中都包含了0~7，为了区分开来，在书写八进制数的时候，需要在前面加个0。比如076是个八进制数，76则是个十进制数。**

****

### 3.运算

![img](https://images0.cnblogs.com/blog/497279/201305/08192628-9f410bbe59bf4940b1f07f67a770d9ef.png)

个位数是7+1，值满八了，于是十位数要进一。因此，在八进制中，7 + 1 = 010。010则表示十进制中的“八”，而不是“十”

 

### 4.八进制转十进制

八进制的基数是8，因此027计算出来就是十进制中的23
$$
027 = 7 * 8^0 + 2 * 8^1 = 7 * 1 + 2 * 8 = 23
$$


### 5.二进制转八进制

不难发现一个十进制数可以表示的最大值是9，而一个八进制数可以表示的最大值是7，恰好3个二进制数可以表示的最大值0b111也是7。因此，我们可以用一个八进制数来代替3个二进制数。

**0b**11110011 = **0b** 011 110 011 = **0**363

如果是八进制转为二进制，那就反过来，用3位二进制数来表示1位八进制数

**0**25 = **0b** 010 101 = **0b**10101

 

## 四、十六进制

### 1.概念

十六进制有两个特点：由0~9和A~F组成，A~F分别表示10~15；运算规则是“逢十六进一”。

 

### 2.细节

**由于十进制、八进制、十六进制中都包含了0~7，为了区分开来，在书写十六进制数的时候，需要在前面加个0x或者0X。比如0x76是个十六进制数，076是个八进制数，76则是个十进制数。**

 

### 3.运算

![img](https://images0.cnblogs.com/blog/497279/201305/08194913-1ed5ac7e1206496b879a604c9e5f430e.png)

个位数是B+5，也就是11+5，值满十六了，于是十位数要进一。因此，在十六进制中，B + 5 = 0x10。0x10则表示十进制中的“十六”，而不是“十”

 

### 4.十六进制转十进制

十六进制的基数是16，F表示十进制中的15，因此0x2F计算出来就是十进制中的47
$$
0x2F = 15 * 16^0 + 2 * 16^1 = 15 * 1 + 2 * 16 = 47
$$


### 5.二进制转十六进制

一个十六进制数可以表示的最大值是15，恰好4个二进制数可以表示的最大值**0b**1111也是15。因此，我们可以用一个十六进制数来代替4个二进制数。

**0b**11110011 = **0b** 1111 0011 = 0xF3

如果是十六进制转为二进制，那就反过来，用4位二进制数来表示1位十六进制数

0x25 = **0b** 0010 0101=**0b**100101



## 五、进制总结

1.一个整数“十二”的4种表示方式分别如下：

十进制：12

二进制：**0b**1100

八进制：**0**14

十六进制：**0x**C

 

2.其实也可以利用Mac中的计算器软件来测试进制之间的转换。

![img](https://images0.cnblogs.com/blog/497279/201305/08202543-601558a1c19c41308154d1f3ba60a8ba.png)

设置计算机的显示模式为“编程器”

![img](https://images0.cnblogs.com/blog/497279/201305/08202657-40427d66041d45239fcf1510ac1604b7.png)

先选择10进制，然后输入12，底部显示的二进制数为1100，这里省略最前面的**0b**

![img](https://images0.cnblogs.com/blog/497279/201305/08203012-4ede2bc2e8064bf1a016661545709baf.png)

选择八进制，显示为14，这里省略了最前面的**0**

![img](https://images0.cnblogs.com/blog/497279/201305/08202854-32d23caf39634012adb027ae3712dfcb.png)

选择十六进制，显示为**0x**C

![img](https://images0.cnblogs.com/blog/497279/201305/08202944-09f89abefba84ae6b5d99b70deed424d.png)

## 六、变量与进制

1.上一讲学习了变量的使用，简单回顾一下

```C
1 int main()
2 {
3     int a = 10;
4     return 0;
5 }
```

在第3行定义了一个变量a，存储的是十进制整数10。其实，这个变量a在内存中是以二进制数的形式存储的，10的二进制形式是1010。

![img](https://images0.cnblogs.com/blog/497279/201305/08213416-fa3ea97041c34066999c16d87c5f16f5.png)

 

2.除了十进制整数，还可以将其他进制的整数赋值给整型变量

```C
int main()
{
    int a = 0b110; // 十进制数：6
    
    int b = 021; // 十进制数：17
    
    int c = 12; // 十进制数：12
    
    int d = 0x1D; // 十进制数：29
    
    return 0;
}
```

上面的代码中，分别将4种不同进制的数值赋值给不同的整型变量。对应的十进制数值已经写在右边的注释中。它们最终都是以二进制的形式存储在内存中。

![img](https://images0.cnblogs.com/blog/497279/201305/08213926-9f0d29a37a834b468019ef35e7d3def1.png)

 

## 七、printf的简单使用

### 1.用printf输出整型变量

前面给变量赋值了各种进制的整数，究竟这些整数的十进制形式为多少呢？我们自己可以换算出来，不过总是自己去算，太麻烦了，我们可是程序员，应该利用程序帮我们算出来。前面已经学过printf("Hello World");语句的作用是在屏幕输出Hello World这一串内容。我们其实也可以利用printf将一个变量输出到屏幕，看看这个变量的值究竟为多少。

这个printf看起来好像是你往它的小括号里面放什么内容，它就会在屏幕上输出什么内容，但是printf的用法有讲究的，像下面的写法就是错误的：

```C
#include <stdio.h>

int main()
{
    int a = 0x1D;
    
    printf(a);
    
    return 0;
}
```

有人可能会疑惑，为什么有时需要#include <stdio.h>，有时又不需要#include <stdio.h>？这个暂时不去详细讨论，你先记住只要用了printf，就要添加#include <stdio.h>。

在第5行定义了变量a，初值为一个十六进制数。在第7行想通过printf输出变量a的数值，但是第7行的写法是错误的。 要想利用printf输出一个整型变量，就必须先说明输出的格式，比如是以十进制格式输出还是以八进制格式输出？



下面的写法才是正确的：

```C
#include <stdio.h>

int main()
{
    int a = 0x1D;
    
    printf("变量a的值为%d", a);
    
    return 0;
}
```

注意看第7行，左边双引号括住的内容代表着要输出到屏幕的内容，不过并不是直接将 "变量a的值为%d" 输出到屏幕。%d是一种格式符，它的意思是用右边变量a的值替代%d的位置进行输出，并且以十进制格式输出。说白了，格式符是用来控制输出格式的。

程序在终端上的运行结果是：

![img](https://images0.cnblogs.com/blog/497279/201305/08225506-af7105f6593048b289d4bfae528067c0.png)

可以发现，输出了"变量a的值为29"，0x1D的十进制数值确实是29，说明这个输出是正确的。但是这个29跟后面的英文连在一起了，非常难看，这时候我们可以在%d的后面加一个\n表示回车换行。

```C
#include <stdio.h>

int main()
{
    int a = 0x1D;
    
    printf("变量a的值为%d\n", a);
    
    return 0;
}
```

注意第5行的改变：在%d的后面加了个\n，表示将变量a以十进制格式输出后进行回车换行。

这时候的运行结果是：

![img](https://images0.cnblogs.com/blog/497279/201305/08225650-77f495d643e64b8390046efb4ce99d46.png)这样就可以明显地看到这个29了

 

### 2.printf支持的格式符

除开%d，printf还支持很多格式符，如下表所示(红色表示常用)，这份表格的内容不用去死记，用到时再回来查资料即可

![img](https://images0.cnblogs.com/blog/497279/201303/14172422-a1d495a292ff4440a7c86e1bbd1cdf5d.png)

接下来简单演示一下%x的使用，它的功能是以十六进制形式输出整数

```C
#include <stdio.h>

int main()
{
    int a = 17;
    
    printf("%x\n", a);
    
    return 0;
}
```

在第5行定义了变量a，存储的是十进制整数17，在第7行让变量a以十六进制形式输出，运行结果是：

![img](https://images0.cnblogs.com/blog/497279/201305/08230827-48b4b54ef7b0424586d0c9998c8beda5.png)

可以发现，十进制整数17以十六进制形式输出就是11，这是正确的。

 

### 3.printf可以同时输出多个数值

看下面代码，利用printf同时输出多个数值

```C
#include <stdio.h>

int main()
{
    int age = 17;
    
    int no = 10;
    
    printf("age = %d, no = %d\n", age, no);
    
    return 0;
}
```

注意看第9行，左边的双引号内有2个%d，age的值会代替第一个%d进行输出，no的值会代替第二个%d进行输出，并且都是以十进制形式输出。输出结果：

![img](https://images0.cnblogs.com/blog/497279/201305/08231345-51b019100c6c49e1a3b0e086789ececa.png)

 

### 4.printf也可以输出常量

```C
#include <stdio.h>

int main()
{
    
    printf("输出的常量为%d\n", 11);
    
    return 0;
}
```

注意第6行，右边的是一个整型常量11，它会代替%d的位置进行输出。输出结果：

![img](https://images0.cnblogs.com/blog/497279/201305/08231557-f13e134770eb436889e3aa1f6b241ae2.png)